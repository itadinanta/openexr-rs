<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `InputFile` struct in crate `openexr`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, InputFile">

    <title>openexr::input::InputFile - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../normalize.css">
    <link rel="stylesheet" type="text/css" href="../../rustdoc.css"
          id="mainThemeStyle">
    
    <link rel="stylesheet" type="text/css" href="../../dark.css">
    <link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle">
    <script src="../../storage.js"></script>
    

    
    
</head>
<body class="rustdoc struct">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <nav class="sidebar">
        <div class="sidebar-menu">&#9776;</div>
        
        <p class='location'>Struct InputFile</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.new">new</a><a href="#method.from_slice">from_slice</a><a href="#method.read_pixels">read_pixels</a><a href="#method.read_pixels_partial">read_pixels_partial</a><a href="#method.header">header</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Drop">Drop</a></div><a class="sidebar-title" href="#synthetic-implementations">Auto Trait Implementations</a><div class="sidebar-links"><a href="#impl-Send">!Send</a><a href="#impl-Sync">!Sync</a></div></div><p class='location'><a href='../index.html'>openexr</a>::<wbr><a href='index.html'>input</a></p><script>window.sidebarCurrent = {name: 'InputFile', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script></div>
    </nav>

    <div class="theme-picker">
        <button id="theme-picker" aria-label="Pick another theme!">
            <img src="../../brush.svg" width="18" alt="Pick another theme!">
        </button>
        <div id="theme-choices"></div>
    </div>
    <script src="../../theme.js"></script>
    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press ‘S’ to search, ‘?’ for more options…"
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content"><h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>openexr</a>::<wbr><a href='index.html'>input</a>::<wbr><a class="struct" href=''>InputFile</a></span><span class='out-of-band'><span id='render-detail'>
                   <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">
                       [<span class='inner'>&#x2212;</span>]
                   </a>
               </span><a class='srclink' href='../../src/openexr/input/mod.rs.html#47-57' title='goto source code'>[src]</a></span></h1><div class="docblock type-decl"><pre class='rust struct'>pub struct InputFile&lt;'a&gt; { /* fields omitted */ }</pre></div><div class='docblock'><p>Reads any kind of OpenEXR file.</p>
<p><code>InputFile</code> is a bit unique in that it doesn't care what kind of OpenEXR
file is being read.  Regardless of the type being read, it presents an API
as if it were a basic scanline OpenEXR file.</p>
<p>Special features like tiles, mipmaps, and deep image data will not be
available even if they are present in the file.  To gain access to those
features you need to use the other input file types (not yet implemented,
sorry!).</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<p>Load image data from a floating point RGB image file named &quot;input_file.exr&quot;.</p>

<pre class="rust rust-example-rendered">
<span class="comment">// Open file and get its resolution.</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">file</span> <span class="op">=</span> <span class="ident">std</span>::<span class="ident">fs</span>::<span class="ident">File</span>::<span class="ident">open</span>(<span class="string">&quot;input_file.exr&quot;</span>).<span class="ident">unwrap</span>();
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">input_file</span> <span class="op">=</span> <span class="ident">InputFile</span>::<span class="ident">new</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">file</span>).<span class="ident">unwrap</span>();
<span class="kw">let</span> (<span class="ident">width</span>, <span class="ident">height</span>) <span class="op">=</span> <span class="ident">input_file</span>.<span class="ident">header</span>().<span class="ident">data_dimensions</span>();

<span class="comment">// Allocate a buffer for the image data and read it in.</span>
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">pixel_data</span>: <span class="ident">Vec</span><span class="op">&lt;</span>[<span class="ident">f32</span>; <span class="number">4</span>]<span class="op">&gt;</span> <span class="op">=</span> <span class="macro">vec</span><span class="macro">!</span>[[<span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>, <span class="number">0.0</span>]; (<span class="ident">width</span><span class="kw-2">*</span><span class="ident">height</span>) <span class="kw">as</span> <span class="ident">usize</span>];
<span class="kw">let</span> <span class="kw-2">mut</span> <span class="ident">fb</span> <span class="op">=</span> <span class="ident">FrameBufferMut</span>::<span class="ident">new</span>(<span class="ident">width</span>, <span class="ident">height</span>);
<span class="ident">fb</span>.<span class="ident">insert_channels</span>(<span class="kw-2">&amp;</span>[(<span class="string">&quot;R&quot;</span>, <span class="number">0.0</span>), (<span class="string">&quot;G&quot;</span>, <span class="number">0.0</span>), (<span class="string">&quot;B&quot;</span>, <span class="number">0.0</span>), (<span class="string">&quot;A&quot;</span>, <span class="number">0.0</span>)], <span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">pixel_data</span>);
<span class="ident">input_file</span>.<span class="ident">read_pixels</span>(<span class="kw-2">&amp;</span><span class="kw-2">mut</span> <span class="ident">fb</span>).<span class="ident">unwrap</span>();</pre>
</div>
                    <h2 id='methods' class='small-section-header'>
                      Methods<a href='#methods' class='anchor'></a>
                    </h2>
                <h3 id='impl' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;'a&gt; <a class="struct" href="../../openexr/input/struct.InputFile.html" title="struct openexr::input::InputFile">InputFile</a>&lt;'a&gt;</code><a href='#impl' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/openexr/input/mod.rs.html#59-302' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.new' class="method"><span id='new.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.new' class='fnname'>new</a>&lt;T:&nbsp;'a&gt;(reader: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.reference.html">&amp;mut </a>T) -&gt; <a class="type" href="../../openexr/error/type.Result.html" title="type openexr::error::Result">Result</a>&lt;<a class="struct" href="../../openexr/input/struct.InputFile.html" title="struct openexr::input::InputFile">InputFile</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Read.html" title="trait std::io::Read">Read</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/std/io/trait.Seek.html" title="trait std::io::Seek">Seek</a>,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/openexr/input/mod.rs.html#64-111' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Creates a new <code>InputFile</code> from any <code>Read + Seek</code> type (typically a
<code>std::fs::File</code>).</p>
<p>Note: this seeks to byte 0 before reading.</p>
</div><h4 id='method.from_slice' class="method"><span id='from_slice.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.from_slice' class='fnname'>from_slice</a>(slice: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">&amp;[</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u8.html">u8</a><a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.slice.html">]</a>) -&gt; <a class="type" href="../../openexr/error/type.Result.html" title="type openexr::error::Result">Result</a>&lt;<a class="struct" href="../../openexr/input/struct.InputFile.html" title="struct openexr::input::InputFile">InputFile</a>&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/openexr/input/mod.rs.html#119-148' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Creates a new <code>InputFile</code> from a slice of bytes, reading from memory.</p>
<p>Note: although you can do essentially the same thing by passing a
<code>std::io::Cursor&lt;&amp;[u8]&gt;</code> to <code>new()</code>, using this method is more
efficient because it allows the underlying APIs to avoid reading data
into intermediate buffers.</p>
</div><h4 id='method.read_pixels' class="method"><span id='read_pixels.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.read_pixels' class='fnname'>read_pixels</a>(&amp;mut self, framebuffer: &amp;mut <a class="struct" href="../../openexr/frame_buffer/struct.FrameBufferMut.html" title="struct openexr::frame_buffer::FrameBufferMut">FrameBufferMut</a>) -&gt; <a class="type" href="../../openexr/error/type.Result.html" title="type openexr::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/openexr/input/mod.rs.html#163-206' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Reads the entire image into <code>framebuffer</code> at once.</p>
<p>Any channels in <code>framebuffer</code> that are not present in the file will be
filled with their default fill value.</p>
<h1 id="errors" class="section-header"><a href="#errors">Errors</a></h1>
<p>This function expects <code>framebuffer</code> to have the same resolution as the
file, and for any same-named channels to have matching types and
subsampling.</p>
<p>It will also return an error if there is an I/O error.</p>
</div><h4 id='method.read_pixels_partial' class="method"><span id='read_pixels_partial.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.read_pixels_partial' class='fnname'>read_pixels_partial</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;mut self, <br>&nbsp;&nbsp;&nbsp;&nbsp;starting_scanline: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.u32.html">u32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;framebuffer: &amp;mut <a class="struct" href="../../openexr/frame_buffer/struct.FrameBufferMut.html" title="struct openexr::frame_buffer::FrameBufferMut">FrameBufferMut</a><br>) -&gt; <a class="type" href="../../openexr/error/type.Result.html" title="type openexr::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.unit.html">()</a>&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/openexr/input/mod.rs.html#234-296' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Reads a contiguous chunk of scanlines into <code>framebuffer</code>.</p>
<p><code>framebuffer</code> may have a different vertical resolution than the image,
but must have the same horizontal resolution.  Scanlines are read from
the image starting at <code>starting_scanline</code> and are written to
<code>framebuffer</code> until it's filled.</p>
<p>For example, to read the last 50 scanlines of a 200-pixel-tall image,
you would pass a 50-pixel-tall FrameBufferMut and a starting scanline of</p>
<ol start="150">
<li></li>
</ol>
<p>Any channels in <code>framebuffer</code> that are not present in the file will be
filled with their default fill value.</p>
<h1 id="errors-1" class="section-header"><a href="#errors-1">Errors</a></h1>
<p>This function expects <code>framebuffer</code> to have the same <em>horizontal</em>
resolution as the file, and for any same-named channels to have
matching types and subsampling.</p>
<p>It will also return an error if:</p>
<ul>
<li>There aren't enough scanlines starting at <code>starting_scanline</code> to fill
<code>framebuffer</code>.
from <code>starting_scanline</code>.</li>
<li>There is an I/O error.</li>
</ul>
</div><h4 id='method.header' class="method"><span id='header.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.header' class='fnname'>header</a>(&amp;self) -&gt; &amp;<a class="struct" href="../../openexr/header/struct.Header.html" title="struct openexr::header::Header">Header</a></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/openexr/input/mod.rs.html#299-301' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Access to the file's header.</p>
</div></div>
            <h2 id='implementations' class='small-section-header'>
              Trait Implementations<a href='#implementations' class='anchor'></a>
            </h2>
            <div id='implementations-list'>
        <h3 id='impl-Drop' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;'a&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html" title="trait core::ops::drop::Drop">Drop</a> for <a class="struct" href="../../openexr/input/struct.InputFile.html" title="struct openexr::input::InputFile">InputFile</a>&lt;'a&gt;</code><a href='#impl-Drop' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/openexr/input/mod.rs.html#304-309' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.drop' class="method"><span id='drop.v' class='invisible'><table class='table-display'><tbody><tr><td><code>fn <a href='https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop' class='fnname'>drop</a>(&amp;mut self)</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../src/openexr/input/mod.rs.html#305-308' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Executes the destructor for this type. <a href="https://doc.rust-lang.org/nightly/core/ops/drop/trait.Drop.html#tymethod.drop">Read more</a></p>
</div></div></div>
                <h2 id='synthetic-implementations' class='small-section-header'>
                  Auto Trait Implementations<a href='#synthetic-implementations' class='anchor'></a>
                </h2>
                <div id='synthetic-implementations-list'>
            <h3 id='impl-Send' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;'a&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../../openexr/input/struct.InputFile.html" title="struct openexr::input::InputFile">InputFile</a>&lt;'a&gt;</code><a href='#impl-Send' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'></div><h3 id='impl-Sync' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;'a&gt; !<a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../../openexr/input/struct.InputFile.html" title="struct openexr::input::InputFile">InputFile</a>&lt;'a&gt;</code><a href='#impl-Sync' class='anchor'></a></span></td><td><span class='out-of-band'></span></td></tr></tbody></table></h3><div class='impl-items'></div></div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <aside id="help" class="hidden">
        <div>
            <h1 class="hidden">Help</h1>

            <div class="shortcuts">
                <h2>Keyboard Shortcuts</h2>

                <dl>
                    <dt><kbd>?</kbd></dt>
                    <dd>Show this help dialog</dd>
                    <dt><kbd>S</kbd></dt>
                    <dd>Focus the search field</dd>
                    <dt><kbd>↑</kbd></dt>
                    <dd>Move up in search results</dd>
                    <dt><kbd>↓</kbd></dt>
                    <dd>Move down in search results</dd>
                    <dt><kbd>↹</kbd></dt>
                    <dd>Switch tab</dd>
                    <dt><kbd>&#9166;</kbd></dt>
                    <dd>Go to active search result</dd>
                    <dt><kbd>+</kbd></dt>
                    <dd>Expand all sections</dd>
                    <dt><kbd>-</kbd></dt>
                    <dd>Collapse all sections</dd>
                </dl>
            </div>

            <div class="infos">
                <h2>Search Tricks</h2>

                <p>
                    Prefix searches with a type followed by a colon (e.g.
                    <code>fn:</code>) to restrict the search to a given type.
                </p>

                <p>
                    Accepted types are: <code>fn</code>, <code>mod</code>,
                    <code>struct</code>, <code>enum</code>,
                    <code>trait</code>, <code>type</code>, <code>macro</code>,
                    and <code>const</code>.
                </p>

                <p>
                    Search functions by type signature (e.g.
                    <code>vec -> usize</code> or <code>* -> vec</code>)
                </p>
            </div>
        </div>
    </aside>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "openexr";
    </script>
    <script src="../../main.js"></script>
    <script defer src="../../search-index.js"></script>
</body>
</html>